16/06/2020

Hi Daniel,


Here's a link the data:

https://drive.google.com/open?id=13BFfcSBULZ-dTkaQhG6gDXkj-P7UfmnS


I'm not sure the scope of what you're working on, but these data are extremely noisy for Raman spectra, and many of the spectra lack obvious features to the naked eye.


This was a challenge we were interested in overcoming, but I suspect you will have much higher signal to noise from your experimental data.


For that reason, it might be useful for you to average the data out per tissue sample (as we recorded many spectra from each sample). The naming convention is the same in each folder, so you should be able to script something to loop over 'eye_n' etc to get 11 average spectra for each tissue type.


Obviously, this reduces the number of data inputs you have, so I'd have a play around with both approaches.


Hope that's of some use.


Best,


Carl


******

14/08/2020


Hi Daniel,


No worries! Yes, the data I sent to you is following the cosmic ray removal and baseline correction. This was done using the instrument software, so is a little bit of a black box. From what I understand, the baseline correction does a polynomial fit, but attempts to remove regions of the spectra that contain peaks (this is the 'intelligent bit'). I can provide the raw data if that's something you need.


For my SOM implementation, I've used either zscore based normalisation on each spectrum or min/max style normalisation.


One of the main things from the paper was that we chucked all of these really noise spectra into the SOM, and let the neural net just deal with it. The orginal SOMDI paper I cited in article (which we then implemented a version of as part of SKiNET) is worth a read if you haven't. The features we were able to extract out of the data almost provide that smoothing you want, but without throwing away valuable information (like you would if you just average out the data or apply smoothing to each spectrum).


So I think to answer your question, normalisation is very important for running the SOM, a form of normalisation is almost a requirement. However, cleaning the data seems less important for the SOM than PCA, we've actually played with raw data and even things like cosmic rays don't hugely influence the results; so there's a benefit to the SOM in that respect.


The source code for my SOM implemntation is on Github:

https://github.com/cbanbury/kohonen

This is the file you want to read:

https://github.com/cbanbury/kohonen/blob/master/src/Kohonen.js


I don't know if you saw that I also did a UI wrapper around this, which can be run as a local webserver:

https://github.com/cbanbury/raman-tools


Hope that's of some help,

Give me a shout if there's anything else you need.

Best,


Carl

******

